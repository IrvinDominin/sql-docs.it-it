---
title: Flag di traccia (Transact-SQL) | Documenti Microsoft
ms.custom: 
ms.date: 01/08/2018
ms.prod: sql-non-specified
ms.prod_service: sql-database
ms.service: 
ms.component: t-sql|database-console-commands
ms.reviewer: 
ms.suite: sql
ms.technology:
- database-engine
ms.tgt_pltfrm: 
ms.topic: language-reference
dev_langs:
- TSQL
helpviewer_keywords:
- trace flags [SQL Server], about trace flags
- trace flags [SQL Server]
- global trace flags [SQL Server]
- flags [SQL Server]
- session trace flags [SQL Server]
- performance [SQL Server], trace
- debugging [SQL Server], trace flags
ms.assetid: b971b540-1ac2-435b-b191-24399eb88265
caps.latest.revision: 
author: pmasl
ms.author: pelopes
manager: craigg
ms.workload: Active
ms.openlocfilehash: 396216c00fc4c474164d98e47d0185f479e61b48
ms.sourcegitcommit: b4fd145c27bc60a94e9ee6cf749ce75420562e6b
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/01/2018
---
# <a name="dbcc-traceon---trace-flags-transact-sql"></a>DBCC TRACEON - flag di traccia (Transact-SQL)
[!INCLUDE[tsql-appliesto-ss2012-xxxx-xxxx-xxx-md](../../includes/tsql-appliesto-ss2012-xxxx-xxxx-xxx-md.md)]

I flag di traccia vengono utilizzati per impostare temporaneamente funzionalità del server specifiche o per disattivare un particolare comportamento. Se, ad esempio, all'avvio di un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] viene impostato il flag di traccia 3205, la compressione hardware per le unità nastro risulta disabilitata. I flag di traccia vengono spesso utilizzati per diagnosticare problemi di prestazioni o per eseguire il debug di stored procedure o sistemi complessi.
  
Nella tabella seguente vengono elencati e descritti i flag di traccia disponibili in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].
 
> [!NOTE]
> Alcuni flag di traccia sono stati introdotti in specifiche [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] versioni. Per ulteriori informazioni sulla versione applicabile, vedere l'articolo di supporto Microsoft associata a un flag di traccia specifico.

> [!IMPORTANT]
> È possibile che il comportamento dei flag di traccia non sia supportato nelle versioni future di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 

  
|Flag di traccia|Description|  
|---|---|
|**139**| Forza la semantica di conversione nell'ambito di DBCC controllare comandi come corretto [DBCC CHECKDB](../../t-sql/database-console-commands/dbcc-checkdb-transact-sql.md), [DBCC CHECKTABLE](../../t-sql/database-console-commands/dbcc-checktable-transact-sql.md) e [DBCC CHECKCONSTRAINTS](../../t-sql/database-console-commands/dbcc-checkconstraints-transact-sql.md), durante l'analisi di maggiore precisione e la conversione logica introdotta con livello di compatibilità 130 per tipi di dati specifico in un database con un livello di compatibilità inferiore. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/help/4010261).<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] CU3 RTM, [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 e versioni successive compilazioni.<br /><br />**Avviso:** Trace flag 139 non deve essere abilitata in modo continuo in un ambiente di produzione e deve essere utilizzato per il solo scopo di eseguire la convalida del database di verifica descritto in questo [articolo di supporto Microsoft](http://support.microsoft.com/help/4010261). Questo protocollo deve essere disabilitato immediatamente dopo il completamento di controlli di convalida.<br /><br />**Ambito**: globali solo|
|**174**|Aumenta la [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] pianificare conteggio bucket cache da 40,009 a 160,001 nei sistemi a 64 bit. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/3026083).<br /><br />**Nota:** , assicurarsi di testare completamente questa opzione, prima di distribuirlo in un ambiente di produzione.<br /><br />**Ambito**: globali solo|
|**176**|Abilita una correzione per risolvere gli errori quando la ricompilazione di partizioni in linea per le tabelle che contengono una colonna di partizionamento calcolata. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/3213683).<br /><br />**Ambito**: globale o sessione|
|**205**|Report per il log degli errori quando una stored procedure statistiche dipendente viene ricompilata in seguito a aggiornamento automatico delle statistiche. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/195565).<br /><br />**Ambito**: globali solo|
|**260**|Visualizza informazioni sulla versione delle librerie di collegamento dinamico delle stored procedure estese. Per ulteriori informazioni su **GetXpVersion()**, vedere [la creazione di Stored procedure estese](../../relational-databases/extended-stored-procedures-programming/creating-extended-stored-procedures.md).<br /><br />**Ambito:** globale o sessione|
|**272**|Disabilita la preallocazione di identità per evitare interruzioni nei valori di una colonna identity nei casi in cui il server viene riavviato in modo imprevisto o viene eseguito il failover a un server secondario. Si noti che la memorizzazione nella cache di identità viene utilizzato per migliorare le prestazioni di inserimento in tabelle con colonne identity.<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)], per eseguire questa operazione a livello di database, vedere l'opzione IDENTITY_CACHE in [ALTER DATABASE SCOPED CONFIGURATION &#40; Transact-SQL &#41; ](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**Ambito**: globali solo|
|**610**|Controlli con registrazione minima inserimenti nelle tabelle indicizzate. Questa traccia flag non è necessario avviare SQL Server 2016, come la registrazione minima è attivata per impostazione predefinita per le tabelle indicizzate. In SQL Server 2016, quando l'operazione di caricamento bulk causa una nuova pagina per essere allocata, tutte le righe in sequenza riempire tale pagina nuova registrazione minima se vengono soddisfatti tutti gli altri prerequisiti per la registrazione minima. Le righe inserite nella pagine esistenti (nessuna nuova allocazione di pagina) per mantenere l'ordine di indice vengono registrate ancora completamente, come le righe che vengono spostate come risultato di divisioni di pagina durante il caricamento. È inoltre importante avere ALLOW_PAGE_LOCKS accesi per gli indici (che è impostata su ON per impostazione predefinita) per l'operazione di registrazione minima a funzionare come blocchi di pagina vengono acquisiti durante l'allocazione e in tal modo solo pagina o vengono registrate le allocazioni degli extent. Per ulteriori informazioni, vedere [Guida alle prestazioni di caricamento dati](https://msdn.microsoft.com/library/dd425070.aspx).<br /><br />**Ambito**: globale o sessione|
|**634**|Disabilita l'attività in background di compressione Columnstore. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]viene eseguito periodicamente l'attività in background dal motore di Tuple che comprime i rowgroup dell'indice columnstore con dati non compressi, un rowgroup per volta.<br /><br />Con la compressione Columnstore vengono migliorate le prestazioni delle query ma anche l'utilizzo delle risorse di sistema. È possibile controllare l'intervallo di compressione columnstore manualmente, disabilitando l'attività in background di compressione con il flag di traccia 634, e quindi richiamare in modo esplicito l'istruzione ALTER INDEX... RIORGANIZZAZIONE o ALTER INDEX... RICOMPILARE al momento di propria scelta.<br /><br />**Ambito:** globale solo|
|**652**|Disabilita l'analisi pre-recupero pagina. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Ambito**: globale o sessione|
|**661**|Disabilita il processo di rimozione di record fantasma. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Ambito**: globali solo|
|**692**|Disabilita gli inserimenti rapidi durante il caricamento bulk di dati nell'heap o indice cluster. Avvio [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], inserimenti rapidi è abilitata per impostazione predefinita, sfruttando la registrazione minima quando i database nel modello di recupero di connesso semplice o di massa per ottimizzare le prestazioni di inserimento di record inseriti nelle nuove pagine. Inserimenti veloce, ogni batch di caricamento bulk acquisisce extent(s) nuovo ignorando la ricerca di allocazione per un extent esistente con spazio libero disponibile per ottimizzare le prestazioni di inserimento.<br /><br /> Inserimenti veloce, il caricamento bulk con batch di piccole dimensioni possono comportare un aumento spazio inutilizzato utilizzato dagli oggetti pertanto che è consigliabile utilizzare batchsize grandi per ogni batch per riempire l'extent completamente. Se non è fattibile aumentando batchsize, questo flag di traccia può ridurre lo spazio inutilizzato riservato a scapito delle prestazioni. <br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] RTM e versioni successive compilazioni.<br /><br />**Ambito**: globale o sessione|
|**715**|Consente il blocco di tabella per operazioni di caricamento bulk in un heap senza indici non cluster. Quando questo flag di traccia è abilitato, operazioni di caricamento bulk acquisiscono blocchi di aggiornamento (BU) bulk quando si copia bulk dei dati in una tabella. Blocchi aggiornamenti bulk BULK consentono più thread di caricamento bulk dei dati contemporaneamente alla stessa tabella, mentre altri processi che non sono il caricamento bulk dei dati da accedere alla tabella.<br /><br />Il comportamento è simile a quando l'utente specifica in modo esplicito hint TABLOCK durante il caricamento bulk o quando il caricamento bulk del blocco della tabella di sp_tableoption è abilitato per una determinata tabella. Tuttavia, quando questo flag di traccia è abilitato, questo comportamento diventa predefinito senza modifiche relative alle query o un database.<br /><br />**Ambito:** globale o sessione|
|**834**|Usa le allocazioni di pagine di grandi dimensioni di Microsoft Windows per il pool di buffer. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/3210239).<br /><br />**Nota:** se si utilizza la caratteristica degli indici Columnstore di [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], si consiglia di non attivare il flag di traccia 834.<br /><br />**Ambito**: globali solo|
|**845**|Consente di blocco di pagine per gli SKU Standard di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], quando l'account del servizio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] è il blocco di pagine in privilegio memoria abilitato. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/970070) e la pagina della documentazione in [opzioni di configurazione Server Server Memory](../../database-engine/configure-windows/server-memory-server-configuration-options.md#lock-pages-in-memory-lpim).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] questo comportamento è abilitato per impostazione predefinita per gli SKU Standard e non deve essere utilizzato il flag di traccia 845.<br /><br />**Ambito**: globali solo|
|**902**|Consente di ignorare l'esecuzione dello script di aggiornamento del database quando si installa un aggiornamento cumulativo o un Service Pack. Se si verifica un errore durante la modalità di aggiornamento di script, si consiglia di contattare il servizio clienti di Microsoft SQL e supporto tecnico per ulteriori informazioni sulla. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2163980).<br /><br />**Avviso:** questo flag di traccia è progettato per la risoluzione dei problemi degli aggiornamenti non riusciti durante la modalità di aggiornamento di script e non è supportata per l'esecuzione in modo continuo in un ambiente di produzione. Script di aggiornamento del database deve essere eseguito correttamente per un'installazione completa di aggiornamenti cumulativi e Service Pack. Non questa operazione può causare problemi imprevisti con la [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] istanza.<br /><br />**Ambito**: globali solo|
|**1117**|Quando un file nel filegroup soddisfa la soglia di aumento automatico delle dimensioni, tutti i file nel filegroup di aumento delle dimensioni.<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] questo comportamento viene controllato dall'opzione di opzioni AUTOGROW_SINGLE_FILE e AUTOGROW_ALL_FILES di ALTER DATABASE e il flag di traccia 1117 non ha alcun effetto. Per altre informazioni, vedere [Opzioni per file e filegroup ALTER DATABASE &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-file-and-filegroup-options.md).<br /><br />**Ambito:** globale solo|
|**1118**|Rimuove la maggior parte delle allocazioni di pagina singola sul server, riducendo la contesa nella pagina SGAM. Quando viene creato un nuovo oggetto, per impostazione predefinita, le prime otto pagine allocate da extent diversi (extent misti). Le eventuali pagine aggiuntive necessarie in seguito saranno allocate dallo stesso extent (extent uniforme). La pagina SGAM è usata per tenere traccia degli extent misti e può quindi diventare rapidamente un collo di bottiglia se si verificano numerose allocazioni di pagina miste. Questo flag di traccia alloca tutte le otto pagine dallo stesso extent durante la creazione di nuovi oggetti, riducendo al minimo la necessità di analizzare la pagina SGAM. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/328551).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] questo comportamento viene controllato mediante l'opzione SET MIXED_PAGE_ALLOCATION di ALTER DATABASE e il flag di traccia 1118 non ha alcun effetto. Per altre informazioni, vedere [Opzioni ALTER DATABASE SET &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md).<br /><br />**Ambito:** globale solo|  
|**1204**|Restituisce le risorse e i tipi di blocco coinvolti in un deadlock nonché il comando corrente interessato. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/832524).<br /><br />**Ambito:** globale solo|  
|**1211**|Disabilita l'escalation di blocchi in base al numero di richieste di memoria o al numero di blocchi. L'escalation di blocchi a livello di riga o di pagina in blocchi di tabella non verrà eseguita in [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].<br /><br />L'utilizzo di questo flag di traccia può generare un numero eccessivo di blocchi, il che può a sua volta causare un rallentamento delle prestazioni di [!INCLUDE[ssDE](../../includes/ssde-md.md)] oppure errori 1204 di mancata allocazione delle risorse di blocco a causa di problemi di memoria insufficiente.<br /><br />Se sono impostati entrambi i flag di traccia 1211 e 1224, 1211 ha la precedenza rispetto a 1224. Tuttavia, poiché il flag di traccia 1211 impedisce l'innalzamento di livello in ogni caso, anche in caso di sovraccarico nella memoria, è consigliabile utilizzare il flag 1224. In questo modo è possibile evitare errori determinati dal superamento del numero di blocchi consentito quando vengono utilizzati numerosi blocchi.<br /><br />**Ambito**: globale o sessione|  
|**1222**|Restituisce le risorse e i tipi di blocco coinvolti in un deadlock nonché il comando corrente interessato in un formato XML non conforme ad alcuno schema XSD.<br /><br />**Ambito**: globali solo|  
|**1224**|Disabilita l'escalation di blocchi in base al numero di blocchi. L'escalation blocchi, tuttavia, può comunque essere attivata dal numero di richieste di memoria. Il [!INCLUDE[ssDE](../../includes/ssde-md.md)] alza di livello i blocchi di riga o di pagina in blocchi di tabella (o partizione) se la quantità di memoria utilizzata dagli oggetti blocco supera uno dei valori seguenti:<br /><br />-40% della memoria utilizzata da [!INCLUDE[ssDE](../../includes/ssde-md.md)]. Ciò è applicabile solo quando il **blocchi** parametro di sp_configure è impostato su 0.<br />-40% della memoria di blocco che viene configurato utilizzando il **blocchi** parametro di sp_configure. Per altre informazioni, vedere [Opzioni di configurazione del server &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md).<br /><br />Se sono impostati entrambi i flag di traccia 1211 e 1224, 1211 ha la precedenza rispetto a 1224. Tuttavia, poiché il flag di traccia 1211 impedisce l'innalzamento di livello in ogni caso, anche in caso di sovraccarico nella memoria, è consigliabile utilizzare il flag 1224. In questo modo è possibile evitare errori determinati dal superamento del numero di blocchi consentito quando vengono utilizzati numerosi blocchi.<br /><br />**Nota:** escalation dei blocchi per il livello di tabella o granularità a livello di HoBT inoltre possono essere controllate tramite l'opzione LOCK_ESCALATION del [ALTER TABLE](../../t-sql/statements/alter-table-transact-sql.md) istruzione.<br /><br />**Ambito:** globale o sessione|
|**1236**|Consente di partizionamento dei blocchi di database. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2926217).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 e [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 questo comportamento è controllato dal flag di traccia e di motore 1236 non ha alcun effetto.<br /><br />**Ambito**: globali solo|
|**1237**|Consente l'istruzione ALTER PARTITION FUNCTION rispettare la priorità di deadlock di sessione definito dall'utente corrente anziché essere vittima del deadlock probabile che per impostazione predefinita. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/help/4025261).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQLv14](../../includes/sssqlv14-md.md)] e database [livello di compatibilità](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) 140 si tratta del comportamento predefinito e il flag di traccia 1237 non ha alcun effetto.<br /><br />**Ambito**: globale o sessione o query|
|**1260**|Disabilitare i dump di monitoraggio dell'utilità di pianificazione.<br /><br />**Ambito**: globali solo|   
|**1448**|Consente alla lettura del log di replica di andare avanti anche se i database secondari asincroni non hanno riconosciuto il ricevimento di una modifica. Anche con questo flag di traccia abilitato la lettura del log attende sempre i database secondari sincroni. La lettura log non andrà oltre il riconoscimento minimo dei database secondari sincroni. Questo flag di traccia si applica all'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], non solo a un gruppo di disponibilità, a un database di disponibilità o a un'istanza di lettura log. Diventa immediatamente effettiva senza un riavvio. È possibile attivare questo flag di traccia anticipatamente o quando un database secondario asincrono genera un errore. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/937041).<br /><br />**Ambito**: globali solo|   
|**1462**|Disabilita la compressione del flusso per i gruppi di disponibilità asincrona di log. Questa funzionalità è abilitata per impostazione predefinita nei gruppi di disponibilità asincrona per ottimizzare la larghezza di banda di rete. Per altre informazioni, vedere [Tune compression for availability group (Ottimizzare la compressione per il gruppo di disponibilità)](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Ambito**: globali solo| 
|**1800**|Abilita [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ottimizzazione quando i dischi di dimensioni di settore diverse vengono usati per i file di log di replica primaria e secondaria, in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Always On Log Shipping e ambienti. Questo flag di traccia solo deve essere abilitato in istanze di SQL Server con file di log delle transazioni che risiedono in dischi con dimensioni di settore di 512 byte. È **non** deve essere abilitata su disco con dimensioni di settore 4 KB. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/3009974).<br /><br />**Ambito:** globale solo|
|**2301**|Abilitare le ottimizzazioni di supporto decisionale avanzate. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Ambito**: globale e della sessione e query|
|**2312**|Consente di impostare il modello di stima della cardinalità di query optimizer il [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] tramite [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] versioni, dipendente il livello di compatibilità del database. Per ulteriori informazioni, vedere [articolo di supporto Microsoft](http://support.microsoft.com/kb/2801413).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'HINT USE 'FORCE_DEFAULT_CARDINALITY_ESTIMATION' [hint per la query](../../t-sql/queries/hints-transact-sql-query.md) invece di utilizzare questo flag di traccia.<br /><br />**Ambito**: globale o sessione o query| 
|**2335**|Fa sì che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] presupporre è disponibile una quantità fissa di memoria durante l'ottimizzazione della query. Non limita la memoria [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] concede per eseguire la query. La memoria configurata per [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] verrà comunque utilizzato dalla cache dei dati, l'esecuzione di query e altri consumer. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2413549).<br /><br />**Nota:** , assicurarsi di testare completamente questa opzione, prima di distribuirlo in un ambiente di produzione.<br /><br />**Ambito**: globale o sessione o query|
|**2340**|Fa sì che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] di non utilizzare un'operazione di ordinamento (ordinamento batch) per ottimizzato nested loop join durante la generazione di un piano. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2009160).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'HINT USE 'DISABLE_OPTIMIZED_NESTED_LOOP' [hint per la query](../../t-sql/queries/hints-transact-sql-query.md) invece di utilizzare questo flag di traccia.<br /><br />**Nota:** , assicurarsi di testare completamente questa opzione, prima di distribuirlo in un ambiente di produzione.<br /><br />**Ambito**: globale o sessione o query|
|**2371**|Modifica la soglia di statistiche di aggiornamento automatico predefinito per soglia statistiche di aggiornamento automatico dinamico. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2754171).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] e sotto il [il livello di compatibilità del database](../../relational-databases/databases/view-or-change-the-compatibility-level-of-a-database.md) 130, questo comportamento è controllato dal motore e il flag di traccia 2371 non ha alcun effetto.<br /><br />**Ambito**: globali solo|
|**2389**|Abilita generato automaticamente statistiche rapide per le chiavi (modifica istogramma) in ordine crescente. Se è impostato il flag di traccia 2389 e una colonna iniziale delle statistiche è contrassegnata come crescente, l'istogramma usato per la stima della cardinalità verrà modificato in fase di compilazione di query. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2801413).<br /><br />**Nota:** , assicurarsi di testare completamente questa opzione, prima di distribuirlo in un ambiente di produzione.<br /><br />**Nota:** questo flag di traccia non si applica a CE versione 120 o versioni successive. Utilizzare il flag di traccia 4139.<br /><br />**Ambito**: globale o sessione o query|
|**2390**|Abilitare le statistiche di quick generate automaticamente per la gestione delle chiavi (modifica istogramma) crescente o sconosciuti. Se è impostato il flag di traccia 2390 e una colonna iniziale delle statistiche è contrassegnata come crescente o sconosciuto, l'istogramma usato per la stima della cardinalità verrà modificato in fase di compilazione di query. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2801413).<br /><br />**Nota:** , assicurarsi di testare completamente questa opzione, prima di distribuirlo in un ambiente di produzione.<br /><br />**Nota:** questo flag di traccia non si applica a CE versione 120 o versioni successive. Utilizzare il flag di traccia 4139.<br /><br />**Ambito**: globale o sessione o query|
|**2422**|Consente di [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] per interrompere una richiesta quando viene superato il tempo massimo impostato dalla configurazione di Resource Governor REQUEST_MAX_CPU_TIME_SEC. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/help/4038419).<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU3 e versioni successive compilazioni.<br /><br />**Ambito**: globali|
|**2430**|Consente di alternano la pulitura della classe di blocco. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2754301).<br /><br />**Ambito**: globali solo| 
|**2453**|Consente a una variabile di tabella attivare recompile quando viene modificato di un numero sufficiente di righe. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2952444).<br /><br />**Nota:** , assicurarsi di testare completamente questa opzione, prima di distribuirlo in un ambiente di produzione.<br /><br />**Ambito**: globale o sessione o query|
|**2528**|Disabilita il controllo parallelo di oggetti eseguito da DBCC CHECKDB, DBCC CHECKFILEGROUP e DBCC CHECKTABLE. Per impostazione predefinita, il grado di parallelismo viene determinato automaticamente da Query Processor. Il grado massimo di parallelismo viene configurato come quello delle query parallele. Per altre informazioni, vedere [Configurare l'opzione di configurazione del server max degree of parallelism](../../database-engine/configure-windows/configure-the-max-degree-of-parallelism-server-configuration-option.md).<br /><br />**Nota:** istruzioni DBCC parallele verifica in genere deve essere abilitato (impostazione predefinita). Query processor Rivaluta e regola automaticamente il parallelismo per ogni tabella o un batch di tabelle controllato da DBCC CHECKDB.<br /><br />Lo scenario di utilizzo tipico è quando un amministratore di sistema riconosce che aumenta il carico del server prima di DBCC CHECKDB viene completata e quindi sceglie diminuire o disabilitare il parallelismo, allo scopo di migliorare la concorrenza con altro carico di lavoro utente manualmente. Tuttavia, la disabilitazione delle verifiche parallele in DBCC CHECKDB può provocare per richiedere più tempo.<br /><br />**Nota:** Se DBCC CHECKDB viene eseguito utilizzando l'opzione TABLOCK e parallelismo è disabilitato, le tabelle potrebbero rimanere bloccate per periodi di tempo.<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2, un'opzione MAXDOP è disponibile per l'opzione max degree of parallelism configurazione di sp_configure per l'istruzione di eseguire l'override.<br /><br />**Ambito**: globale o sessione|
|**2549**|Esegue il comando DBCC CHECKDB, presupponendo che ogni file di database è in un'unità disco univoca. Comando DBCC CHECKDB compila un elenco interno di pagine read per ogni unità disco univoco in tutti i file di database. Questa logica determina l'unità disco univoche in base alla lettera di unità del nome del file fisico di ogni file.<br /><br />**Nota:** non utilizzare questo flag di traccia, a meno che non si è certi che ogni file è basato su un disco fisico univoco.<br /><br />**Nota:** anche se questo flag di traccia di migliorare le prestazioni di DBCC CHECKDB comandi dell'utilizzo dell'opzione PHYSICAL_ONLY destinazione, alcuni utenti potrebbero non essere visualizzate alcun miglioramento delle prestazioni. Anche se questo flag di traccia migliora l'utilizzo di risorse dei / o disco, le prestazioni delle risorse disco sottostante possono limitare le prestazioni complessive del comando DBCC CHECKDB. Per ulteriori informazioni, vedere [articolo di supporto Microsoft](http://support.microsoft.com/kb/2634571).<br /><br />**Ambito**: globali solo| 
|**2562**|Esegue il comando DBCC CHECKDB in un singolo "batch" indipendentemente dal numero di indici nel database. Per impostazione predefinita, il comando DBCC CHECKDB tenta di ridurre al minimo le risorse di tempdb limitando il numero di indici o "dati" che viene generata utilizzando un concetto di "batch". Questo flag di traccia forza l'elaborazione in un unico batch.<br /><br />Un effetto dell'utilizzo di questo flag di traccia è che è possono aumentare i requisiti di spazio di tempdb. Tempdb può raggiungere fino al 5% o più database utente che viene elaborato dal comando DBCC CHECKDB.<br /><br />**Nota:** anche se questo flag di traccia di migliorare le prestazioni di DBCC CHECKDB comandi dell'utilizzo dell'opzione PHYSICAL_ONLY destinazione, alcuni utenti potrebbero non essere visualizzate alcun miglioramento delle prestazioni. Anche se questo flag di traccia migliora l'utilizzo di risorse dei / o disco, le prestazioni delle risorse disco sottostante possono limitare le prestazioni complessive del comando DBCC CHECKDB. Per ulteriori informazioni, vedere [articolo di supporto Microsoft](http://support.microsoft.com/kb/2634571).<br /><br />**Ambito**: globali solo|
|**2566**|Esegue il comando DBCC CHECKDB senza il controllo di integrità dei dati a meno che non è specificata l'opzione DATA_PURITY.<br /><br />**Nota:** controlli dell'integrità di valori di colonna sono abilitati per impostazione predefinita e non richiedono l'opzione DATA_PURITY. Per i database aggiornati da versioni precedenti di SQL Server, i controlli di valori di colonna non sono abilitati per impostazione predefinita fino a quando DBCC CHECKDB WITH data_purity non è stato eseguito senza errori nel database di almeno una volta. A questo punto, DBCC CHECKDB controlla l'integrità dei valori di colonna per impostazione predefinita. Per ulteriori informazioni, vedere [articolo di supporto Microsoft](http://support.microsoft.com/kb/945770).<br /><br />**Ambito**: globali solo|
|**3023**|Abilita l'opzione CHECKSUM come predefinito per il comando BACKUP. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2656988).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] questo comportamento viene controllato dall'impostazione di **predefinito checksum di backup** opzione di configurazione. Per altre informazioni, vedere [Opzioni di configurazione del server &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md).<br /><br />**Ambito**: globale e della sessione|
|**3042**|Ignora l'algoritmo di preallocazione di compressione di backup predefinito per consentire l'aumento del file di backup solo di quanto necessario per raggiungere le relative dimensioni finali. Questo flag di traccia è utile se è necessario risparmiare spazio allocando solo le dimensioni effettive necessarie per il backup compresso. L'utilizzo di questo flag di traccia può comportare un effetto leggermente negativo sulle prestazioni, vale a dire un possibile aumento della durata dell'operazione di backup. Per ulteriori informazioni sull'algoritmo di preallocazione, vedere [compressione dei Backup &#40; SQL Server &#41; ](../../relational-databases/backup-restore/backup-compression-sql-server.md).<br /><br />**Ambito**: globali solo|
|**3051**|Consente il Backup di SQL Server nell'URL di registrazione di un file di log di errore specifico. Per ulteriori informazioni, vedere [SQL Server Backup to URL Best Practices and Troubleshooting](../../relational-databases/backup-restore/sql-server-backup-to-url-best-practices-and-troubleshooting.md).<br /><br />**Ambito**: globali solo|  
|**3205**|Per impostazione predefinita, se un'unità nastro supporta la compressione hardware, l'istruzione DUMP o BACKUP applica questo tipo di compressione. Questo flag di traccia consente di disabilitare la compressione hardware per le unità nastro e risulta utile quando si desidera scambiare nastri con altri siti oppure unità nastro che non supportano la compressione.<br /><br />**Ambito**: globale o sessione|  
|**3226**|Per impostazione predefinita, per ogni operazione di backup eseguita in modo corretto viene aggiunta una voce al log degli errori di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e al registro eventi di sistema. Se si creano i backup del log eseguito di frequente, questi messaggi possono aumentare rapidamente, log degli errori di grandi dimensioni in cui l'individuazione di altri messaggi risultante risulta problematico.<br /><br />Grazie a questo flag di traccia, è possibile eliminare queste voci di log. Questo risulta utile se si eseguono backup del log frequenti e se nessuno degli script dipende da tali voci.<br /><br />**Ambito**: globali solo|   
|**3427**|Consente di risolvere per problema quando il numero di transazioni consecutivi inserimento di dati in temp tabella [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] utilizzare maggiore utilizzo della CPU rispetto a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Per ulteriori informazioni, vedere [articolo di supporto Microsoft](http://support.microsoft.com/help/3216543)<br /><br />**Ambito**: globali solo|  
|**3608**|Impedisce [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] avvio automaticamente e il ripristino dei database ad eccezione di **master** database. Se le attività che richiedono **tempdb** vengono avviate, quindi **modello** viene recuperato e **tempdb** viene creato. Gli altri database verranno avviati e recuperati al momento dell'accesso. Alcune funzionalità, ad esempio l'isolamento dello snapshot e lo snapshot Read committed, potrebbero non funzionare. Utilizzare per [spostare i database di sistema](../../relational-databases/databases/move-system-databases.md) e [spostare database utente](../../relational-databases/databases/move-user-databases.md).<br /><br />**Nota:** non utilizzano durante il normale funzionamento.<br /><br />**Ambito**: globali solo|   
|**3625**|Limita la quantità di informazioni restituite per gli utenti che non sono membri del ruolo predefinito del server sysadmin, mascherando i parametri di alcuni messaggi di errore tramite '\*\*\*\*\*\*'. In questo modo è possibile impedire la divulgazione di informazioni riservate.<br /><br />**Ambito**: globali solo|  
|**4136**|Disabilita l'analisi, a meno che non parametri OPTION(RECOMPILE), WITH RECOMPILE o OPTIMIZE FOR \<valore > è utilizzato. Per ulteriori informazioni, vedere [articolo di supporto Microsoft](http://support.microsoft.com/kb/980653). A tale scopo a livello di database, vedere l'opzione PARAMETER_SNIFFING in [ALTER DATABASE SCOPED CONFIGURATION &#40; Transact-SQL &#41; ](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md). A tale scopo a livello di query, aggiungere il OPTIMIZE FOR UNKNOWN [hint per la query](../../t-sql/queries/hints-transact-sql-query.md). A partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, una seconda opzione per eseguire questa operazione a livello di query consiste nell'aggiungere l'HINT USE 'PARAMETER_SNIFFING' [hint per la query](../../t-sql/queries/hints-transact-sql-query.md) invece di utilizzare questo flag di traccia.<br /><br />**Nota:** , assicurarsi di testare completamente questa opzione, prima di distribuirlo in un ambiente di produzione.<br /><br />**Ambito**: globale o sessione|  
|**4137**|Fa sì che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per generare un piano con selettività minimo per la stima dei predicati e per i filtri per tenere conto per la correlazione, sotto il modello di stima della cardinalità di query optimizer di [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e nelle versioni precedenti. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2658214).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'HINT USE 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES' [hint per la query](../../t-sql/queries/hints-transact-sql-query.md) invece di utilizzare questo flag di traccia quando si utilizza la stima di Cardinalità Legacy.<br /><br />**Nota:** , assicurarsi di testare completamente questa opzione, prima di distribuirlo in un ambiente di produzione.<br /><br />**Nota:** questo flag di traccia non si applica a CE versione 120 o versioni successive. Utilizzare il flag di traccia 9471.<br /><br />**Ambito**: globale o sessione o query| 
|**4138**|Fa sì che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per generare un piano di non usare rettifiche di obiettivo di riga con le query che contengono la clausola TOP, OPTION (FAST N), IN, è presente o parole chiave. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2667211).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'HINT USE 'DISABLE_OPTIMIZER_ROWGOAL' [hint per la query](../../t-sql/queries/hints-transact-sql-query.md) invece di utilizzare questo flag di traccia.<br /><br />**Nota:** , assicurarsi di testare completamente questa opzione, prima di distribuirlo in un ambiente di produzione.<br /><br />**Ambito**: globale o sessione o query| 
|**4139**|Abilita generato automaticamente statistiche rapide (modifica istogramma) indipendentemente dallo stato di una colonna chiave. Se è impostato il flag di traccia 4139, indipendentemente dallo stato di colonna delle statistiche iniziali (ordine crescente, decrescente o fisse), l'istogramma usato per la stima della cardinalità verrà modificato in fase di compilazione di query. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2952101).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'HINT USE 'ENABLE_HIST_AMENDMENT_FOR_ASC_KEYS' [hint per la query](../../t-sql/queries/hints-transact-sql-query.md) invece di utilizzare questo flag di traccia.<br /><br />**Nota:** , assicurarsi di testare completamente questa opzione, prima di distribuirlo in un ambiente di produzione.<br /><br />**Nota:** questo flag di traccia non si applica a CE versione 70. In alternativa, usare i flag di traccia 2389 e 2390.<br /><br />**Ambito**: globale o sessione o query|
|**4199**|<a name="4199"></a>Consente di eseguire query le modifiche di query optimizer (QO) rilasciate [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] gli aggiornamenti cumulativi e i Service Pack.<br /><br />QO apportate a precedenti versioni di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sono abilitati per impostazione predefinita del database più recente [livello di compatibilità](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) in una versione del prodotto specificato, senza traccia 4199 abilitati flag.<br /><br />Nella tabella seguente viene riepilogato il comportamento quando si usano livelli di compatibilità del database specifico e i flag di traccia 4199. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/974006).<br /><br /><table border="1" frame="void" width="550"><tr valign="middle" align="center"><td>**Livello di compatibilità del database**</td><td>**TF 4199**</td><td>**QO cambia da livelli di compatibilità del database precedente**</td><td>**Post-RTM QO modifiche per la versione corrente**</td></tr><tr valign="middle" align="center"><td rowspan="2">**da 100 a 120**</td><td>Disattivato</td><td>Disabilitata</td><td>Disabilitata</td></tr><tr valign="middle" align="center"><td>On</td><td>Abilitata</td><td>Abilitata</td></tr><tr valign="middle" align="center"><td rowspan="2">**130**</td><td>Disattivato</td><td>Abilitata</td><td>Disabilitata</td></tr><tr valign="middle" align="center"><td>On</td><td>Abilitata</td><td>Abilitata</td></tr><tr valign="middle" align="center"><td rowspan="2">**140**</td><td>Disattivato</td><td>Abilitata</td><td>Disabilitata</td></tr><tr valign="middle" align="center"><td>On</td><td>Abilitata</td><td>Abilitata</td></tr></table><br /><br />A tale scopo a livello di database, vedere l'opzione QUERY_OPTIMIZER_HOTFIXES in [ALTER DATABASE SCOPED CONFIGURATION &#40; Transact-SQL &#41; ](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'HINT USE 'ENABLE_QUERY_OPTIMIZER_HOTFIXES' [hint per la query](../../t-sql/queries/hints-transact-sql-query.md) invece di utilizzare questo flag di traccia.<br /><br />**Ambito**: globale o sessione o query|
|**4610**|Aumenta la dimensione della tabella hash che archivia le voci della cache di un fattore di 8. Quando utilizzata in combinazione con il flag di traccia 4618 aumenta il numero di voci nell'archivio cache TokenAndPermUserStore a 8.192. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/959823).<br /><br />**Ambito:** globale solo|
|**4616**|Viene garantita la visibilità dei metadati a livello di server per i ruoli applicazione. In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], poiché i ruoli applicazione non sono associati a un'entità a livello di server, un ruolo applicazione non può accedere a metadati all'esterno del database corrispondente, diversamente da quanto consentito nelle versioni precedenti di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Impostando questo flag globale vengono disabilitate le nuove restrizioni e viene consentito ai ruoli applicazione di accedere ai metadati a livello di server.<br /><br />**Ambito**: globali solo|
|**4618**|Limiti il numero di voci nella cache TokenAndPermUserStore archiviazione per 1.024. Quando utilizzata in combinazione con il flag di traccia 4610 aumenta il numero di voci nell'archivio cache TokenAndPermUserStore a 8.192. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/959823).<br /><br />**Ambito:** globale solo|
|**5004**|Crittografia TDE sospende l'analisi e fa sì che il processo di lavoro di crittografia analisi uscire senza svolgere alcuna operazione. Il database continuerà a essere in stato (crittografia in corso) di crittografia. Per riprendere l'analisi di riesecuzione della crittografia, disabilitare il flag di traccia 5004 ed eseguire ALTER DATABASE < nome_database > SET ENCRYPTION ON. <br /><br />**Ambito:** globale solo|
|**6498**|Consente più di una compilazione di query di grandi dimensioni accedere al gateway di grandi dimensioni quando è disponibile memoria sufficiente. È basato su 80 percentuale di memoria di destinazione di SQL Server e consente infatti di una compilazione di query di grandi dimensioni al 25 gigabyte (GB) di memoria. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/3024815).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 e [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] questo comportamento è controllato dal motore e il flag di traccia 6498 non ha alcun effetto.<br /><br />**Ambito**: globali solo|
|**6527**|Disabilita la generazione di un dump di memoria alla prima occorrenza di un'eccezione di memoria insufficiente nell'integrazione con CLR. Per impostazione predefinita, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] genera un dump di memoria di piccole dimensioni con la prima occorrenza di un'eccezione di memoria insufficiente in CLR. Il comportamento del flag di traccia è il seguente:<br /><br />-Se viene utilizzato come un flag di traccia di avvio, un dump di memoria non viene mai generato. Un dump di memoria può essere generato tuttavia se vengono utilizzati altri flag di traccia.<br />-Se questo flag di traccia è abilitato in un server in esecuzione, un dump di memoria non verrà automaticamente generato da tale punto in. Tuttavia, se un dump di memoria è già stato generato a causa di un'eccezione di memoria insufficiente in CLR, questo flag di traccia non avrà alcun effetto.<br /><br />**Ambito**: globali solo|
|**6532**|Consente il miglioramento delle prestazioni di operazioni di query con i tipi di dati spaziali in [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Il miglioramento delle prestazioni varia a seconda della configurazione, i tipi di query e gli oggetti. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/3107399).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] questo comportamento è controllato dal motore e il flag di traccia 6532 non ha alcun effetto.<br /><br />**Ambito**: globale e della sessione|
|**6533**|Consente il miglioramento delle prestazioni di operazioni di query con i tipi di dati spaziali in [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Il miglioramento delle prestazioni varia a seconda della configurazione, i tipi di query e gli oggetti. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/3107399).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] questo comportamento è controllato dal motore e il flag di traccia 6533 non ha alcun effetto.<br /><br />**Ambito**: globale e della sessione| 
|**6534**|Consente il miglioramento delle prestazioni di operazioni di query con i tipi di dati spaziali in [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] e [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. Il miglioramento delle prestazioni varia a seconda della configurazione, i tipi di query e gli oggetti. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/3107399).<br /><br />**Ambito**: globale e della sessione|
|**7314**|Valori numerici di forza con precisione/scala sconosciuto per essere considerati come valori double con provider OLE DB. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/3051993).<br /><br />**Ambito**: globale e della sessione|  
|**7412**|Abilita le statistiche di esecuzione di query lightweight infrastruttura di analisi. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/3170113).<br /><br />**Ambito**: globali solo|
|**7471**|Consente di eseguire più [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md) per diversi tipi di dati in una singola tabella contemporaneamente. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/3156157).<br /><br />**Ambito**: globali solo|
|**7745**|Archivio di Query forza per non scaricate su disco all'arresto del database.<br /><br />**Nota:** utilizzando questa traccia può causare dati dell'archivio Query non ancora scaricati su disco andranno persi in caso di arresto. Per un [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] chiusura, il comando SHUTDOWN WITH NOWAIT può essere utilizzata invece di questo flag di traccia per forzare l'arresto immediato.<br /><br />**Ambito**: globali solo|
|**7752**|Consente il caricamento asincrono dell'archivio Query.<br /><br />**Nota:** utilizzare questo flag di traccia se [!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)] sta riscontrando un numero elevato di QDS_LOADDB le attese correlate al caricamento sincrono archivio Query (comportamento predefinito).<br /><br />**Ambito**: globali solo|
|**7806**|Abilita una connessione amministrativa dedicata (DAC, Dedicated Administrator Connection) in [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. Per impostazione predefinita, nessuna risorsa dell'applicazione livello dati è riservata in [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. Per altre informazioni, vedere [Connessione di diagnostica per gli amministratori di database](../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).<br /><br />**Ambito**: globali solo|  
|**8011**|Disabilitare il buffer circolare per il monitoraggio di risorse. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Ambito**: globale e della sessione|
|**8012**|Disabilitare il buffer circolare per le utilità di pianificazione. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Ambito**: globali solo|
|**8015**|Disabilitare il rilevamento automatico e la configurazione NUMA. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2813214).<br /><br />**Ambito**: globali solo|
|**8018**|Disabilitare il buffer circolare di eccezione. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Ambito**: globali solo|
|**8019**|Disabilitare la raccolta di stack per il buffer circolare di eccezione. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Ambito**: globali solo|
|**8020**|Disabilitare il monitoraggio di working set. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Ambito**: globali solo|
|**8032**|Vengono ripristinati i parametri dei limiti di cache all'impostazione RTM di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] che consente, in generale, di aumentare le dimensioni delle cache. Usare questa impostazione quando le voci della cache riutilizzate di frequente non rientrano nella cache e quando non è possibile [ottimizzare per l'opzione di configurazione del server dei carichi di lavoro a hoc](../../database-engine/configure-windows/optimize-for-ad-hoc-workloads-server-configuration-option.md) per risolvere il problema della cache dei piani.<br /><br />**Avviso:** flag di traccia 8032 può provocare prestazioni ridotte se cache di grandi dimensioni rendono disponibile meno memoria per altri consumer di memoria, ad esempio il pool di buffer.<br /><br />**Ambito**: globali solo|   
|**8048**|Converte NUMA partizionata gli oggetti di memoria in CPU partizionata. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2809338).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 e [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] questo comportamento è controllato dal motore e il flag di traccia 8048 non ha alcun effetto.<br /><br />**Ambito**: globali solo|  
|**8079**|Consente di [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 per interrogare il layout di hardware e configurare automaticamente Soft-NUMA nei sistemi reporting 8 o più CPU per nodo NUMA. Il comportamento di Soft-NUMA automatica è Hyperthread (processore logico/Hyper-Threading) compatibile con. Il partizionamento e la creazione di nodi aggiuntivi Scale dall'elaborazione in background aumentando il numero di listener, scalabilità e di rete e le funzionalità di crittografia.<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2. A partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] questo comportamento è controllato dal motore e il flag di traccia 8048 non ha alcun effetto.<br /><br />**Ambito**: globali solo| 
|**8207**|Abilita aggiornamenti singleton per la replica transazionale. Gli aggiornamenti dei sottoscrittori possono essere replicati come coppia DELETE e INSERT. Ciò potrebbe non soddisfare le regole di business, ad esempio attivando un trigger UPDATE. Con il flag di traccia 8207 l'aggiornamento di una colonna univoca che interessa solo una riga (aggiornamento singleton) viene replicato come un aggiornamento e non come coppia DELETE o INSERT. Se l'aggiornamento riguarda una colonna che in cui ha un vincolo univoco o se l'aggiornamento interessa più righe, l'aggiornamento viene replicato ancora come coppia DELETE o INSERT. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/302341).<br /><br />**Ambito**: globali solo|
|**8721**|Report per il log degli errori quando viene eseguito l'aggiornamento automatico delle statistiche. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/195565).<br /><br />**Ambito**: globali solo|
|**8744**|Disabilitare la prelettura per l'operatore di ciclo annidato. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/920093).<br /><br />**Nota:** può causare un uso non corretto di questo flag di traccia di letture fisiche aggiuntive quando [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] esegue i piani che contengono l'operatore Nested Loops.<br /><br />**Ambito**: globale e della sessione|
|**9024**|Converte un oggetto di memoria del pool di log globale in oggetto memoria partizionata del nodo NUMA. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/2809338).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 e [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 questo comportamento è controllato dal flag di traccia e di motore 9024 non ha alcun effetto.<br /><br />**Ambito**: globali solo|
|**9347**|Disabilita la modalità batch per l'operatore di ordinamento. [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]introduce un nuovo operatore di ordinamento di modalità batch che migliora le prestazioni per molte query analitiche. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/3172787).<br /><br />**Ambito**: globale o sessione o query|
|**9349**|Disabilita la modalità batch per primi operatore sort N. [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]introduce un nuovo operatore di ordinamento principale di modalità batch che migliora le prestazioni per molte query analitiche.<br /><br />**Ambito**: globale o sessione o query|
|**9389**|Consente di concessione di memoria dinamica per gli operatori in modalità batch. Se una query non ottiene tutta la memoria che è necessario, distribuisce i dati nel database tempdb, evitando dei / o aggiuntivo e potenzialmente influire sulle prestazioni delle query. Se il flag di traccia di concessione di memoria dinamica è abilitato, un operatore in modalità batch potrebbe richiedere ulteriore memoria ed evitare la distribuzione a tempdb se è disponibile ulteriore memoria.<br /><br />**Ambito**: globale o sessione| 
|**9453**|Disattiva modalità esecuzione dei batch. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/help/4016902).<br /><br />**Nota:** , assicurarsi di testare completamente questa opzione, prima di distribuirlo in un ambiente di produzione.<br /><br />**Ambito:** globale e della sessione e query|
|**9471**|Fa sì che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per generare un piano con selettività minimo per i filtri a tabella singola, sotto il modello di stima della cardinalità di query optimizer di [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] tramite [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] versioni.<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'HINT USE 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES' [hint per la query](../../t-sql/queries/hints-transact-sql-query.md) invece di utilizzare questo flag di traccia.<br /><br />**Nota:** , assicurarsi di testare completamente questa opzione, prima di distribuirlo in un ambiente di produzione.<br /><br />**Nota:** questo flag di traccia non si applica a CE versione 70. Utilizzare il flag di traccia 4137.<br /><br />**Ambito**: globale o sessione o query| 
|**9476**|Fa sì che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] per generare un piano con il presupposto di indipendenza semplice anziché il presupposto di indipendenza di Base predefinito, sotto il modello di stima della cardinalità di query optimizer di [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] tramite [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] versioni. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/3189675).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'HINT USE 'ASSUME_JOIN_PREDICATE_DEPENDS_ON_FILTERS' [hint per la query](../../t-sql/queries/hints-transact-sql-query.md) invece di utilizzare questo flag di traccia.<br /><br />**Nota:** , assicurarsi di testare completamente questa opzione, prima di distribuirlo in un ambiente di produzione.<br /><br />**Ambito**: globale o sessione o query| 
|**9481**|Consente di impostare il modello di stima della cardinalità di query optimizer il [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e versioni precedenti, indipendentemente dal livello di compatibilità del database. Per ulteriori informazioni, vedere [articolo di supporto Microsoft](http://support.microsoft.com/kb/2801413). A tale scopo a livello di database, vedere l'opzione LEGACY_CARDINALITY_ESTIMATION in [ALTER DATABASE SCOPED CONFIGURATION &#40; Transact-SQL &#41; ](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'HINT USE 'FORCE_LEGACY_CARDINALITY_ESTIMATION' [hint per la query](../../t-sql/queries/hints-transact-sql-query.md) invece di utilizzare questo flag di traccia.<br /><br />**Ambito**: globale o sessione o query|  
|**9485**|Disabilita l'autorizzazione SELECT per DBCC SHOW_STATISTICS.<br /><br />**Ambito**: globali solo|
|**9488**|Imposta la stima fissa per le funzioni con valori di tabella per il valore predefinito è 1 (corrispondente all'impostazione predefinita con il modello di stima della cardinalità di query optimizer di [!INCLUDE[ssKilimanjaro](../../includes/ssKilimanjaro-md.md)] e nelle versioni precedenti), quando si utilizza il modello di stima della cardinalità di query optimizer di [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] tramite [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] versioni.<br /><br />**Ambito**: globale o sessione o query|
|**9495**|Disabilita il parallelismo durante l'inserimento per INSERT... Operazioni SELECT e si applica sia agli utenti che le tabelle temporanee. Per ulteriori informazioni, vedere [articolo di supporto Microsoft](http://support.microsoft.com/kb/3180087)<br /><br />**Ambito**: globale o sessione| 
|**9567**|Abilita la compressione del flusso di dati per gruppi di disponibilità AlwaysOn durante il seeding automatico. La compressione può ridurre notevolmente il tempo di trasferimento durante il seeding automatico e aumenta il carico del processore. Per ulteriori informazioni, vedere [inizializzare automaticamente un gruppo di disponibilità Always On](../../database-engine/availability-groups/windows/automatically-initialize-always-on-availability-group.md) e [ottimizzare la compressione per il gruppo di disponibilità](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Ambito**: globale o sessione|
|**9591**|Disabilita la compressione di blocchi di log in gruppi di disponibilità AlwaysOn. La compressione di blocchi di log è il comportamento predefinito utilizzato con le repliche sincrone e asincrone di [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. In [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], la compressione viene utilizzata solo con la replica asincrona. <br /><br />**Ambito**: globale o sessione|
|**9592**|Abilita la compressione del flusso per gruppi di disponibilità sincrona di registrazione. Questa funzionalità è disabilitata per impostazione predefinita nei gruppi di disponibilità sincrono perché la compressione aggiunge latenza. Per altre informazioni, vedere [Tune compression for availability group (Ottimizzare la compressione per il gruppo di disponibilità)](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Ambito**: globale o sessione| 
|**9929**|Consente di ridurre i file del checkpoint In memoria a 1 MB. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/3147012).<br /><br />**Ambito**: globali solo|  
|**9939**|Abilita parallela piani e l'analisi parallela di tabelle con ottimizzazione per la memoria e le variabili di tabella nelle operazioni DML che fanno riferimento a tabelle con ottimizzazione per la memoria o le variabili di tabella, fino a quando non sono la destinazione dell'operazione DML in [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/4013877).<br /><br />**Nota:** 9939 flag di traccia non è necessario se il flag di traccia 4199 è abilitato anche in modo esplicito.<br /><br />**Ambito**: globale o sessione o query|   
|**10204**|Disabilita merge/ricompressione durante la riorganizzazione di indici columnstore. In [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], quando un indice columnstore è stato riorganizzato, vi è una nuova funzionalità per unire automaticamente i piccoli gruppi di righe compresso più grande rowgroup compressi, nonché come la ricompressione i gruppi di righe che hanno un numero elevato di righe eliminate.<br /><br />**Nota:** flag di traccia 10204 non si applica agli indici columnstore che vengono creati nelle tabelle con ottimizzazione per la memoria.<br /><br />**Ambito**: globale o sessione|   
|**10316**|Consente la creazione di indici aggiuntivi su [interna con ottimizzazione per la memoria temporale tabella di gestione temporanea](../../relational-databases/tables/system-versioned-temporal-tables-with-memory-optimized-tables.md), accanto a quello predefinito. Se si dispone di modello di query specifico che include colonne che non sono coperte dall'indice predefinito può essere utile aggiungere aggiuntive.<br /><br />**Nota:** versioni di sistema temporale nelle tabelle per le tabelle di ottimizzazione per la memoria sono progettate per fornire elevata velocità effettiva transazionale. Tenere presente che creando altri indici può comportare un sovraccarico per le operazioni DML che aggiornano o eliminano righe nella tabella corrente. Con gli indici aggiuntivi, è consigliabile puntare a trovare il giusto equilibrio tra prestazioni delle query temporali e un ulteriore sovraccarico DML.<br /><br />**Ambito**: globale o sessione|
|**11023**|Disabilita l'uso della frequenza di campionamento persistente ultimo, per tutti l'aggiornamento delle statistiche successivi in cui una frequenza di campionamento non è specificata in modo esplicito come parte di [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md) istruzione. Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/4039284).<br /><br />**Ambito**: globale o sessione|    
|**11024**|Consente di attivare l'aggiornamento automatico delle statistiche quando il conteggio di modifica di qualsiasi partizione supera locale [soglia](../../relational-databases/statistics/statistics.md#AutoUpdateStats). Per ulteriori informazioni, vedere questo [articolo di supporto Microsoft](http://support.microsoft.com/kb/4041811).<br /><br />**Ambito**: globale o sessione| 
  
## <a name="remarks"></a>Osservazioni  
 In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], sono disponibili tre tipi di flag di traccia: query, sessione e globali. Flag di traccia di query sono attive per il contesto di una query specifica. I flag di traccia di sessione sono attivi per una connessione e sono visibili solo per tale connessione. I flag di traccia globali vengono impostati a livello del server e sono visibili per tutte le connessioni nel server. Alcuni flag possono essere abilitati solo in ambito globale, mentre altri possono essere abilitati in ambito globale o sessione.  
  
 Sono applicabili le regole seguenti:  
-   Un flag di traccia globale deve essere abilitato a livello globale. In caso contrario, non ha alcun effetto. È consigliabile abilitare il flag di traccia globali all'avvio, tramite il **-T** opzione della riga di comando. In questo modo si garantisce che il flag di traccia rimane attivo dopo un riavvio del server.  
-   Se un flag di traccia ha ambito globale, sessione o query, può essere abilitata con l'ambito appropriato. Un flag di traccia abilitato a livello di sessione non influisce mai sulle altre sessioni e l'effetto viene perso alla disconnessione dello SPID che ha aperto la sessione.  
  
I flag di traccia possono essere attivati o disattivati in uno dei modi seguenti:
-   Tramite i comandi DBCC TRACEON e DBCC TRACEOFF.  
     Per abilitare il flag di traccia 2528 a livello globale, ad esempio, è consigliabile utilizzare [DBCC TRACEON](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md) con l'argomento-1: `DBCC TRACEON (2528, -1)`. L'effetto di attivazione di un flag di traccia globali con DBCC TRACEON verrà persi al riavvio del server. Per disabilitare un flag di traccia globale, utilizzare [DBCC TRACEOFF](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md) con l'argomento-1.  
-   Utilizzo di **-T** opzione di avvio per specificare che il flag di traccia è necessario impostare durante l'avvio.  
     Il **-T** opzione di avvio consente un flag di traccia a livello globale. Non è possibile abilitare un flag di traccia a livello di sessione tramite un'opzione di avvio. In questo modo si garantisce che il flag di traccia rimane attivo dopo un riavvio del server. Per altre informazioni sulle opzioni di avvio, vedere [Opzioni di avvio del servizio del motore di database](../../database-engine/configure-windows/database-engine-service-startup-options.md).
-   A livello di query, tramite il QUERYTRACEON [hint per la query](http://support.microsoft.com/kb/2801413).
  
Utilizzare il `DBCC TRACESTATUS` per determinare i flag di traccia sono attualmente attivi.
  
## <a name="examples"></a>Esempi  
 Nell'esempio seguente imposta flag di traccia 3205 per tutte le sessioni a livello di server tramite DBCC TRACEON.  
  
```sql  
DBCC TRACEON (3205,-1);  
```

È possibile abilitare tutti gli hotfix relative ai piani controllati dal flag di traccia 4199 e 4137 per una determinata query.
  
```sql
SELECT x FROM correlated WHERE f1 = 0 AND f2 = 1 OPTION (QUERYTRACEON 4199, QUERYTRACEON 4137)
``` 
 
## <a name="see-also"></a>Vedere anche  
[Tipi di dati &#40;Transact-SQL&#41;](../../t-sql/data-types/data-types-transact-sql.md)  
[DBCC INPUTBUFFER &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-inputbuffer-transact-sql.md)  
[DBCC OUTPUTBUFFER &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-outputbuffer-transact-sql.md)  
[DBCC TRACEOFF &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md)  
[DBCC TRACEON &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md)  
[DBCC TRACESTATUS &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-tracestatus-transact-sql.md)  
[EXECUTE &#40;Transact-SQL&#41;](../../t-sql/language-elements/execute-transact-sql.md)  
[SELECT &#40;Transact-SQL&#41;](../../t-sql/queries/select-transact-sql.md)  
[SET NOCOUNT &#40;Transact-SQL&#41;](../../t-sql/statements/set-nocount-transact-sql.md)  
[Opzioni ALTER DATABASE SET &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md)  
[ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md)  
[Hint per la query (Transact-SQL)](../../t-sql/queries/hints-transact-sql-query.md)

